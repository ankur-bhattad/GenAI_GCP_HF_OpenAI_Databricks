#!pip install langchain_openai
import os
from langchain_openai import AzureChatOpenAI
from langchain.chains import ConversationChain
from langchain.memory import ConversationBufferMemory, ConversationBufferWindowMemory, ConversationTokenBufferMemory, ConversationSummaryBufferMemory


# Initialize the Azure OpenAI Chat Model
llm = AzureChatOpenAI(
    azure_deployment="gpt-4.1-mini",         # deployment name from Azure portal
    azure_endpoint="https://singalkaay-7416-resource.cognitiveservices.azure.com/",           # your endpoint
    api_version="2023-12-01-preview",
    api_key="mykey",
    temperature=0.0
)

memory = ConversationBufferMemory()

conversation = ConversationChain(llm=llm, memory = memory, verbose=True)

conversation.predict(input="Hello, my name is Alex")
conversation.predict(input="What is 2+2?")
conversation.predict(input="What is my name?")
conversation.predict(input="Add 10 to the above output")
print(memory.buffer)

---------------------------
